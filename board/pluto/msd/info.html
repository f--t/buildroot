<!DOCTYPE HTML>
<html lang="en-US">
<head>
<script>
function OnTheWeb() {
  window.location.assign("https://wiki.analog.com/university/tools/pluto")
}
</script>

<script>
function versionCompare(v1, v2) {
	var v1parts = ("" + v1).replace("_", ".").replace(/[^0-9.]/g, "").split("."),
		v2parts = ("" + v2).replace("_", ".").replace(/[^0-9.]/g, "").split("."),
		minLength = Math.min(v1parts.length, v2parts.length),
		p1, p2, i;
	for(i = 0; i < minLength; i++) {
		p1 = parseInt(v1parts[i], 10);
		p2 = parseInt(v2parts[i], 10);
		if (isNaN(p1)){ p1 = v1parts[i]; }
		if (isNaN(p2)){ p2 = v2parts[i]; }
		if (p1 == p2) {
		continue;
		}else if (p1 > p2) {
		return 1;
		}else if (p1 < p2) {
		return -1;
		}
		return NaN;
	}
	if (v1parts.length === v2parts.length) {
		return 0;
	}
	return (v1parts.length < v2parts.length) ? -1 : 1;
	}
</script>

<script type="text/javascript">
function CheckFrmVersion() {
	var req = jQuery.getJSON("https://api.github.com/repos/analogdevicesinc/libiio/tags");

	req.done(function(response) {
		var VerOnGithub = response[0].name


		var res = versionCompare("v0.7.164de86", VerOnGithub);
		if (res < 0) {
			var message = "Newer Version " + VerOnGithub + " exists please update";
		} else  if (res > 0) {
			var message = "You're newer than me (" + VerOnGithub + ")";
		} else if (res == 0) {
			var message = "You're up to date";
		} else {
			var message = "Failure";
		}

		document.getElementById('#versiontest').innerHTML = message;
	});
}
window.onload = CheckFrmVersion;
</script>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script>
            jQuery(document).ready (function () {
              jQuery.getJSON("https://api.github.com/repos/analogdevicesinc/iio-oscilloscope/releases").done(function (data1) {
                    jQuery('#osc-download').attr ('href', data1[0].assets[0].browser_download_url);
                    jQuery('#osc-version').text (data1[0].name);

              })
              jQuery.getJSON("https://api.github.com/repos/analogdevicesinc/libiio/tags").done(function (data) {
                    jQuery('#libiio-download').attr ('href', data[0].zipball_url);
                    jQuery('#libiio-version').text (data[0].name);
                    })

	    });
</script>

</head>
<body>
	<table>
	<tbody>
	<tr>
	<td>
	<h1><span style="color: #0000ff;">Welcome to PlutoSDR</span></h1>
	</td>
	</tr>
	<tr>
	<td>&nbsp;
	<table>
	<tbody>
	<tr>
	<td>Model</td>
	<td>#MODEL#</td>
	</tr>
	<tr>
	<td>Serial</td>
	<td>#SERIAL#</td>
	</tr>
	<tr>
	<td>Build</td>
	<td>#BUILD#</td>
	</tr>
	<tr>
	<td>Linux</td>
	<td>#LINUX#</td>
	</tr>
	<tr>
	<td>IIO</td>
	<td>#IIO#</td>
	</tr>
	<tr>
	<td>FPGA</td>
	<td>#FPGA#</td>
	</tr>
	<tr>
	<td>IP Address</td>
	<td>#IP#</td>
	</tr>
	<tr>
	<td>IP Address (HOST)</td>
	<td>#HOSTIP#</td>
	</tr>
	<tr>
	<td>Netmask</td>
	<td>#NETMASK#</td>
	</tr>
	<tr>
	<td>MAC Address</td>
	<td>#MAC#</td>
	</tr>
	<tr>
	<td>MAC Address (HOST)</td>
	<td>#MACHOST#</td>
	</tr>
	</tbody>
	</table>

	<h4>Visit PlutoSDR on the WEB or get the last firmware</h4>
	<input type="button" value="Documentation" onclick="OnTheWeb()">

	<table>
	<tbody>
	<tr>
        <td><b> Latest IIO </b></td>
        <td><b id="libiio-version"> loading...</b></td>
	<td><a id="libiio-download"> Download the latest version</a></td>
        </tr>
        <tr>
        <td><b> Latest OSC</b></td>
        <td><b id="osc-version"> loading...</b></td>
	<td><a id="osc-download"> Download the latest version</a></td>
	</tr>
	</tbody>
	</table>

	<h2 id="#versiontest"> Checking Version ...</h2>

        <p>&nbsp;</p>
    </body>
</html>

