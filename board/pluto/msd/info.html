<!DOCTYPE HTML>
<html lang="en-US">
<head>

<style>
table, th, td {
    border: 2px solid black;
    border-collapse: collapse;
}
th, td {
    padding: 10px;
}
</style>

<script>
function OnTheWeb() {
  window.location.assign("https://wiki.analog.com/university/tools/pluto")
}
</script>

<script>
function versionCompare(v1, v2) {
	var v1parts = ("" + v1).replace("_", ".").replace(/[^0-9.]/g, "").split("."),
		v2parts = ("" + v2).replace("_", ".").replace(/[^0-9.]/g, "").split("."),
		minLength = Math.min(v1parts.length, v2parts.length),
		p1, p2, i;
	for(i = 0; i < minLength; i++) {
		p1 = parseInt(v1parts[i], 10);
		p2 = parseInt(v2parts[i], 10);
		if (isNaN(p1)){ p1 = v1parts[i]; }
		if (isNaN(p2)){ p2 = v2parts[i]; }
		if (p1 == p2) {
		continue;
		}else if (p1 > p2) {
		return 1;
		}else if (p1 < p2) {
		return -1;
		}
		return NaN;
	}
	if (v1parts.length === v2parts.length) {
		return 0;
	}
	return (v1parts.length < v2parts.length) ? -1 : 1;
	}
</script>

<script type="text/javascript">
function CheckFrmVersion() {
	var req = jQuery.getJSON("https://api.github.com/repos/analogdevicesinc/plutosdr-fw/releases");

	req.done(function(response) {
		var VerOnGithub = response[0].name

		var res = versionCompare("#BUILD#", VerOnGithub);
		if (res < 0) {
			var message = "New update available ( Version " + VerOnGithub + " )";
		} else  if (res > 0) {
			var message = "Wow PlutoSDR Version #BUILD# is newer than (" + VerOnGithub + ")";
		} else if (res == 0) {
			var message = "PlutoSDR is up to date!";
		} else {
			var message = "Failure";
		}

		document.getElementById('#versiontest').innerHTML = message;
		jQuery('#plutsdr-fw-download').attr ('href', response[0].assets[0].browser_download_url);

	});
}
window.onload = CheckFrmVersion;
</script>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script>
            jQuery(document).ready (function () {
              jQuery.getJSON("https://api.github.com/repos/analogdevicesinc/plutosdr-drivers-win/releases").done(function (data) {
                    jQuery('#drivers-win-download').attr ('href', data[0].assets[0].browser_download_url);
                    jQuery('#drivers-win-version').text (data[0].name);

              })
              jQuery.getJSON("https://api.github.com/repos/analogdevicesinc/iio-oscilloscope/releases").done(function (data) {
                    jQuery('#osc-download').attr ('href', data[0].assets[0].browser_download_url);
                    jQuery('#osc-version').text (data[0].name);

              })
              jQuery.getJSON("https://api.github.com/repos/analogdevicesinc/libiio/tags").done(function (data) {
                    jQuery('#libiio-download').attr ('href', data[0].zipball_url);
                    jQuery('#libiio-version').text (data[0].name);
                    })

	    });
</script>

</head>
<body>

	<h1><span style="color: #0000ff;">Welcome to PlutoSDR</span></h1>


	<h4 style="color: #0000ff;">Version Information</h4>

	<table>
	<tbody>
	<tr>
	<td>Model</td>
	<td>#MODEL#</td>
	</tr>
	<tr>
	<td>Serial</td>
	<td>#SERIAL#</td>
	</tr>
	<tr>
	<td>Build</td>
	<td>#BUILD#</td>
	</tr>
	<tr>
	<td>Linux</td>
	<td>#LINUX#</td>
	</tr>
	<tr>
	<td>U-Boot</td>
	<td>#UBOOT#</td>
	</tr>
	<tr>
	<td>FPGA</td>
	<td>#FPGA#</td>
	</tr>
	<tr>
	<td>Root FS</td>
	<td>#ROOTFS#</td>
	</tr>
	<tr>
	<td>IIO</td>
	<td>#IIO#</td>
	</tr>
	</tbody>
	</table>

	<h4 style="color: #0000ff;">Current Configuration</h4>

	<table>
	<tbody>
	<tr>
	<td>IP Address (PLUTO)</td>
	<td>#IP#</td>
	</tr>
	<tr>
	<td>IP Address (HOST)</td>
	<td>#HOSTIP#</td>
	</tr>
	<tr>
	<td>Netmask</td>
	<td>#NETMASK#</td>
	</tr>
	<tr>
	<td>MAC Address (PLUTO)</td>
	<td>#MAC#</td>
	</tr>
	<tr>
	<td>MAC Address (HOST)</td>
	<td>#MACHOST#</td>
	</tr>
	</tbody>
	</table>

	<h4 style="color: #0000ff;">Get the latest PlutoSDR firmware</h4>

	<h2 id="#versiontest"> Checking Version ...</h2>

	<a id="plutsdr-fw-download"> Download the latest version</a>

	<h4 style="color: #0000ff;">Visit PlutoSDR on the WEB</h4>
	<ul>
	<li><a title="PlutoSDR Documentation (ADALM-PLUTO)" href="https://wiki.analog.com/university/tools/pluto" target="_blank">PlutoSDR Documentation (ADALM-PLUTO)</a></li>
	<li><a title="PlutoSDR Windows Drivers " href="https://wiki.analog.com/university/tools/pluto/drivers/windows" target="_blank">PlutoSDR Windows Drivers </a></li>
	<li><a title="PlutoSDR Linux Drivers " href="https://wiki.analog.com/university/tools/pluto/drivers/linux" target="_blank">PlutoSDR Linux Drivers </a></li>
	</ul>

	<h4 style="color: #0000ff;">Latest Related Downloads</h4>

	<table>
	<tbody>
	<tr>
        <td><b> Windows USB drivers  </b></td>
        <td><b id="drivers-win-version"> loading...</b></td>
	<td><a id="drivers-win-download"> Download </a></td>
        </tr>
	<tr>
        <td><b> libIIO  </b></td>
        <td><b id="libiio-version"> loading...</b></td>
	<td><a id="libiio-download"> Download </a></td>
        </tr>
        <tr>
        <td><b> IIO Oscilloscope  </b></td>
        <td><b id="osc-version"> loading...</b></td>
	<td><a id="osc-download"> Download </a></td>
	</tr>
	</tbody>
	</table>

    </body>
</html>

